# SPEC_SKILL_SYSTEM.md - 스킬 시스템

> 자세한 스킬별 수치는 총정리.md의 "🎮 게임플레이 > 3. 스킬 시스템" 참조

---

## 🎯 스킬 구조

### 스킬 슬롯
```
스킬 슬롯: 4개
├─ A 버튼: 스킬 1
├─ B 버튼: 스킬 2
├─ C 버튼: 스킬 3
└─ OFF 버튼: 매직 미사일 자동 ON/OFF
```

---

## ⚔️ 매직 미사일 (기본 공격)

### 특징
- **마나 소비**: 없음
- **쿨타임**: 없음
- **발사 속도**: 빠름 (약 10발/초)
- **타게팅**: 자동 (가장 가까운 몬스터)
- **범위**: 화면 내

### 데미지
```
기본_데미지 = 플레이어_ATK
최종_데미지 = 기본_데미지 - (몬스터_DEF * 2)
```

### 버튼 동작
```
[OFF] 버튼 클릭
  ├─ 자동 공격 ON → 토글 활성화 (밝은 색)
  ├─ 자동 공격 OFF → 토글 비활성화 (어두운 색)
  └─ 자동 공격 중이면 계속 발사
```

---

## 🌟 원소 스킬 시스템

### 원소 선택
- **선택 시점**: 게임 시작 전 (로비에서)
- **선택 방식**: 5개 원소 중 1개 선택
- **변경**: 게임 중 불가능

### 스킬 습득
```
레벨 1: 스킬 A 습득 (원소 선택 시점)
레벨 2: 스킬 B 습득
레벨 3: 스킬 C 습득
레벨 4~15: 기존 스킬 강화만 가능
```

### 스킬 강화 (레벨 4~15)
```
강화 옵션 (3가지 중 선택):
├─ 데미지 강화: +20% per level
├─ 범위 강화: +15% per level
└─ 쿨타임 강화: -0.2초 per level

예시:
  레벨 1: 쿨타임 강화 선택 (스킬 A 쿨타임 3초 → 2.8초)
  레벨 2: 데미지 강화 선택 (스킬 B 데미지 +20%)
  ...
```

---

## 🔥 원소별 스킬

### 불 (Fire)
```
A. 파이어볼
   데미지: 40
   마나: 30
   쿨타임: 2초
   범위: 중간

B. 플레임 웨이브
   데미지: 30
   마나: 25
   쿨타임: 1.5초
   범위: 좌우 넓음

C. 인페르노
   데미지: 60
   마나: 50
   쿨타임: 4초
   범위: 주변 폭발
```

### 물 (Water)
```
A. 워터 샷
B. 아이스 스파이크
C. 플러드
(자세한 수치는 총정리.md 참조)
```

### 바람 (Wind)
```
A. 에어 슬래시
B. 토네이도
C. 폭풍 (이동 속도 증가 + 범위 공격)
```

### 땅 (Earth)
```
A. 록 스매시
B. 어스 스파이크
C. 스톤 실드 (방어력 증가 + 범위 보호)
```

### 전기 (Lightning)
```
A. 라이트닝 볼트
B. 체인 라이트닝 (적 간 연쇄 공격)
C. 썬더 스톰
```

---

## 📋 스킬 매니저 책임

```
public class SkillManager {
    // 스킬 슬롯 (A, B, C, OFF)
    private Skill[] activeSkills = new Skill[4];

    // 스킬 시전 시도
    public boolean castSkill(int slotId) {
        // 1. 마나 확인
        // 2. 쿨타임 확인
        // 3. 스킬 시전
        // 4. 마나 소비
        // 5. 네트워크 동기화
    }

    // 스킬 강화
    public void upgradeSkill(int slotId, UpgradeType type) {
        // 1. 레벨 확인 (4 이상)
        // 2. 강화 적용
        // 3. 스탯 재계산
    }

    // 매 프레임 업데이트 (쿨타임 감소)
    public void update(float delta) {
        // 각 스킬의 쿨타임 감소
    }
}
```

---

## 🎨 스킬 버튼 UI

### 마나 충분 상태
```
버튼 색상: 원소 색상 (밝음)
투명도: 100%
텍스트: "A" (큰 글자)
```

### 마나 부족 상태
```
버튼 색상: 회색
투명도: 50%
텍스트: "A" (어두운 색)
```

### 쿨타임 상태
```
버튼 색상: 어두운 원소 색
투명도: 50%
쿨타임 텍스트: "2.3" (남은 시간)
```

---

## ⚙️ 시스템 설계

### 발사체 (Projectile)
```
public class Projectile {
    Vector2 position, velocity;
    int monsterId;  // 대상 몬스터 ID
    int damage;
    float lifetime;  // 사라질 때까지의 시간

    void update(delta) {
        // 위치 업데이트
        // 수명 감소
        // 범위 내 목표 타격
    }
}
```

### 스킬 클래스 계층
```
Skill (추상)
  ├─ MagicMissile (기본 공격)
  └─ ElementalSkill (원소 스킬)
       ├─ SkillFire
       ├─ SkillWater
       ├─ SkillWind
       ├─ SkillEarth
       └─ SkillLightning
```

---

**상세 스킬 데이터**: 총정리.md의 "스킬 설계 방향" 참조

