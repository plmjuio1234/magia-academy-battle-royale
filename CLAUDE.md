# 🎮 마법학교 배틀로얄 - 프로젝트 대시보드

**프로젝트명**: Magic Battle Royale
**현재 상태**: Phase 1 ✅ 완료 → Phase 2 🔄 예정
**마지막 업데이트**: 2025-10-25
**서버 상태**: 🟢 실행 중 (localhost:5000/5001)

---

## 📊 프로젝트 진행 상황

### 전체 진행률: 50% (Phase 1 완료 + Phase 2 절반)

```
Phase 1: 기반 구축      [████████████████████░░░░░] 100% ✅
Phase 2: 게임플레이      [███████████░░░░░░░░░░░░░░] 45%  🔄
Phase 3: 최적화 & 배포   [░░░░░░░░░░░░░░░░░░░░░░░░░] 0%   ⏳
```

**마지막 업데이트** (2025-10-25):
- 스킬 시스템 네트워크 동기화 완벽 수정
- 레벨 업/다운 시스템 추가
- AoE 스킬 위치 버그 수정
- 캐릭터 움직임 개선

---

## 🎯 현재 작업 중

**Phase 1 완료 항목**:
- ✅ Kryonet 클라이언트-서버 연결
- ✅ 기본 UI 화면들 (7개)
- ✅ 멀티플레이어 방 시스템
- ✅ 플레이어 이동 동기화
- ✅ 한글 폰트 지원

**Phase 2 진행 중** (2025-10-25 업데이트):
- ✅ 스킬 시스템 구현 (15개 스킬, 5개 원소 - 네트워크 동기화 완료)
  - 모든 스킬의 색상, 속도, 크기, 생명시간 올바르게 전송
  - Explosion 스킬 AoE 버그 수정
- ✅ 캐릭터 움직임 개선 (속도 200 → 150)
- ✅ 레벨 업 시스템 (레벨별 스킬 언락)
- ✅ 원소 변경 시스템 (1-5 키 + 스킬 즉시 업데이트)
- ✅ 디버그 키 (K=레벨업, L=레벨다운)
- 🔄 몬스터 AI 시스템 (3가지 몬스터)
- 🔄 게임 맵 및 축소 메커니즘
- 🔄 충돌 감지 및 피해 계산

---

## 📚 문서 네비게이션

### 📖 제품 요구사항 (PRD)

사용자 입장에서 게임이 어떻게 작동해야 하는지 정의

| 문서 | 내용 | 참조 |
|------|------|------|
| **게임 컨셉** | 게임 규칙, 플레이어 수, 게임 시간 | @docs/prd/game-concept.md |
| **캐릭터** | 5개 원소 캐릭터 상세 설명 | @docs/prd/characters.md |
| **게임 플로우** | 로비 → 선택 → 게임 → 결과 진행 | @docs/prd/game-flow.md |

### 🏗️ 아키텍처 & 설계 (Design)

기술적 설계와 시스템 구조

| 문서 | 내용 | 참조 |
|------|------|------|
| **시스템 아키텍처** | 클라-서버 전체 구조도 | @docs/design/architecture.md |
| **네트워킹 설계** | Kryonet TCP/UDP 메시지 시스템 | @docs/design/networking.md |
| **UI/UX 설계** | 화면 레이아웃, 색상, 폰트 정의 | @docs/design/ui-ux.md |

### 🛠️ 기술 스펙 (Specification)

**구현자를 위한 상세 가이드** - 이 문서들을 보고 코드를 작성하세요

| 문서 | 내용 | 참조 |
|------|------|------|
| **API 프로토콜** | 메시지 클래스 및 직렬화 명세 | @docs/spec/api-protocol.md |
| **스킬 시스템** | Skill 클래스, 각 원소별 스킬 구현 | @docs/spec/skills-system.md |
| **몬스터 AI** | Monster 클래스, 상태 머신, 스폰 로직 | @docs/spec/monsters-ai.md |
| **맵 시스템** | TiledMap, 축소 메커니즘, 아이템 | @docs/spec/map-system.md |

### 📈 진행 상황 (Progress)

각 Phase별 체크리스트 및 완료 기록

| 문서 | 내용 | 참조 |
|------|------|------|
| **Phase 1** | 기반 구축 (완료됨) | @docs/progress/phase-1.md |
| **Phase 2** | 게임플레이 (예정) | @docs/progress/phase-2.md |
| **Phase 3** | 최적화 (예정) | @docs/progress/phase-3.md |
| **완료 항목** | 지금까지 완성한 것들 | @docs/progress/completed.md |

---

## 💡 작업 가이드

### "X 기능을 구현하고 싶어요"

**1단계**: PRD 문서에서 요구사항 확인
```
예) 스킬 구현 → @docs/prd/characters.md 에서 각 원소의 스킬 확인
```

**2단계**: 설계 문서에서 전체 구조 이해
```
예) @docs/design/architecture.md 에서 스킬이 어디에 위치하는지 확인
```

**3단계**: 스펙 문서에서 구현 가이드 따라가기
```
예) @docs/spec/skills-system.md 의 코드 예제를 참고하며 구현
```

**4단계**: 진행 상황 문서 체크리스트 업데이트
```
예) @docs/progress/phase-2.md 의 해당 항목에 [x] 표시
```

### "버그가 발생했어요"

**1단계**: 에러 메시지 확인
```
예) "PlayerMoveMsg 직렬화 실패" → @docs/spec/api-protocol.md 확인
```

**2단계**: 네트워킹 문서 참고
```
예) @docs/design/networking.md 의 메시지 정의 확인
```

**3단계**: 서버 로그 확인
```
터미널에 "java -cp ... org.example.Main" 실행 후 에러 메시지 확인
```

### "성능이 떨어져요"

**1단계**: 병목 지점 찾기
```
예) ShapeRenderer 개수 확인 → 100개 이상이면 최적화 필요
```

**2단계**: 설계 문서의 최적화 섹션 참고
```
예) @docs/design/architecture.md 의 성능 최적화 전략 확인
```

---

## 👥 팀 역할

### 김동연 - Kryonet 서버 담당
- 서버 로직 개발
- 메시지 처리 및 검증
- 게임 상태 관리
- 참조 문서: @docs/spec/api-protocol.md, @docs/design/networking.md

### 신은성 - 클라이언트 개발 담당
- 전체 클라이언트 로직
- UI/UX 구현
- 네트워크 통신 클라이언트 부분
- 문서화
- 참조 문서: @docs/design/ui-ux.md, @docs/spec/*

### 김태희 - 그래픽/리소스 담당
- 게임 아이콘 및 로고
- UI 디자인
- 캐릭터/몬스터 스프라이트
- 배경음악 및 효과음 (향후)
- 참조 문서: @docs/design/ui-ux.md, @docs/prd/*

---

## 🔧 개발 환경 설정

### 서버 실행 방법

**Windows PowerShell (관리자 권한)**:
```bash
cd 3_2_J_Server/untitled
java -cp "target/classes;lib/*" org.example.Main
```

**또는 배치 파일 사용**:
```bash
# run_server.bat 더블클릭 (3_2_J_Server/untitled 폴더에 생성)
```

**성공 확인**:
```
00:00  INFO: [kryonet] Server opened.
=================================
  마법 서버 시작 완료!
  TCP 포트: 5000
  UDP 포트: 5001 (선택적)
=================================
```

### 클라이언트 연결

클라이언트는 자동으로 `localhost:5000`에 연결됩니다.
(Client.java의 SERVER_IP = "localhost" 설정됨)

---

## 📊 프로젝트 통계

| 항목 | 수치 |
|------|------|
| 총 문서 수 | 12개 |
| 총 Java 클래스 | 20+ |
| 총 코드 라인 | 3000+ |
| 게임 화면 | 7개 |
| 멀티플레이 인원 | 4명 |
| 원소 종류 | 5개 |
| 예정 스킬 | 15개 |
| 예정 몬스터 | 3종류 |

---

## 🚀 빠른 시작

### 1️⃣ 서버 실행
```bash
cd 3_2_J_Server/untitled
java -cp "target/classes;lib/*" org.example.Main
```

### 2️⃣ 클라이언트 실행
```
Android Studio에서 게임 프로젝트 실행
```

### 3️⃣ 게임 플레이
- 메인 메뉴 → 방 생성 → 캐릭터 선택 → 게임 시작

---

## 🎮 게임 단축키 (2025-10-25 기준)

| 키 | 기능 | 용도 |
|----|------|------|
| **W** / **↑** | 위로 이동 | 캐릭터 이동 |
| **S** / **↓** | 아래로 이동 | 캐릭터 이동 |
| **A** / **←** | 왼쪽 이동 | 캐릭터 이동 |
| **D** / **→** | 오른쪽 이동 | 캐릭터 이동 |
| **1** | 불 원소 선택 | 원소 변경 |
| **2** | 물 원소 선택 | 원소 변경 |
| **3** | 땅 원소 선택 | 원소 변경 |
| **4** | 전기 원소 선택 | 원소 변경 |
| **5** | 바람 원소 선택 | 원소 변경 |
| **K** | 레벨 업 (+1) | 디버그 (테스트용) |
| **L** | 레벨 다운 (-1) | 디버그 (테스트용) |
| **마우스 클릭** | 스킬 시전 | 스킬 사용 |

---

## 📝 최근 수정 사항 (2025-10-25)

### 수정된 파일
1. **Constants.java**
   - PLAYER_SPEED: 200f → 150f
   - PLAYER_INITIAL_LEVEL: 1 추가
   - PLAYER_MAX_LEVEL: 5 추가

2. **GameScreen.java**
   - 원소 변경 시 스킬 버튼 동시 업데이트
   - K/L 키로 레벨 조절 (디버그)
   - AoE 스킬 위치 버그 수정 (타겟 위치에서 생성)
   - 레벨 기반 스킬 필터링

### 수정된 버그
- ❌ **Before**: 다른 플레이어 폭발이 플레이어 위치에서 터짐
- ✅ **After**: 타겟 위치에서 올바르게 터짐

### 추가된 기능
- 레벨업/다운 시스템
- 원소별 스킬 언락 (1/2/3개)
- 게임 내 캐릭터 움직임 개선

---

## 📅 일정

| 단계 | 기간 | 상태 | 마감 |
|------|------|------|------|
| **Phase 1** | 3주 | ✅ 완료 | 2025-10-25 |
| **Phase 2** | 3주 | 🔄 진행 중 | 2025-11-15 |
| **Phase 3** | 2주 | ⏳ 대기 | 2025-11-29 |
| **배포** | - | ⏳ 대기 | 2025-11-30 |

---

## ⚠️ 주의사항

### 네트워크 설정
- 방화벽에서 TCP 5000, UDP 5001 포트 허용 필요
- 로컬 테스트: localhost 사용 (외부 IP 불필요)

### 안드로이드 빌드
- 최소 API 레벨: 21
- 대상 API 레벨: 34+
- 메모리: 최소 2GB

### 성능 주의
- 동시 플레이어 4명 초과 금지
- 투사체 100개 초과 시 성능 저하
- 모바일에서는 30fps 유지

---

## 📞 문의 및 피드백

- 버그 보고: GitHub Issues
- 기능 제안: GitHub Discussions
- 문서 오류: 해당 문서 파일 수정

---

**생성 일시**: 2025-10-25
**최종 업데이트**: 2025-10-25
**담당자**: 신은성

🤖 생성 도구: Claude Code + Specification-Driven Development
